--// Services
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

--// Screen
local ScreenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
ScreenGui.Name = "DarakzHub_KeySystem"
ScreenGui.ResetOnSpawn = false

--// Frame utama (Menu 1)
local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 400, 0, 250)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -125)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.BorderSizePixel = 0
MainFrame.Visible = true
MainFrame.Active = true
MainFrame.Draggable = true

--// Title
local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 50)
Title.Text = "Darakz Hub | Key System"
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.Font = Enum.Font.GothamBold

--// Tombol Subscribe
local SubBtn = Instance.new("TextButton", MainFrame)
SubBtn.Size = UDim2.new(0.4, 0, 0, 40)
SubBtn.Position = UDim2.new(0.05, 0, 0.3, 0)
SubBtn.Text = "Subscribe"
SubBtn.BackgroundColor3 = Color3.fromRGB(200, 30, 30)
SubBtn.TextColor3 = Color3.new(1,1,1)
SubBtn.Font = Enum.Font.GothamBold
SubBtn.TextScaled = true

-- Neon effect Subscribe
local Stroke = Instance.new("UIStroke", SubBtn)
Stroke.Thickness = 3
local Gradient = Instance.new("UIGradient", Stroke)
Gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255,0,0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255,100,100))
}

--// Tombol Get Key (warna-warni)
local KeyBtn = Instance.new("TextButton", MainFrame)
KeyBtn.Size = UDim2.new(0.4, 0, 0, 40)
KeyBtn.Position = UDim2.new(0.55, 0, 0.3, 0)
KeyBtn.Text = "Get Key"
KeyBtn.BackgroundColor3 = Color3.fromRGB(30, 200, 80)
KeyBtn.TextColor3 = Color3.new(1,1,1)
KeyBtn.Font = Enum.Font.GothamBold
KeyBtn.TextScaled = true

local UIGradient = Instance.new("UIGradient", KeyBtn)
UIGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0,255,128)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0,200,255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0,128,255))
}
task.spawn(function()
    while true do
        for i = 0, 360, 2 do
            UIGradient.Rotation = i
            task.wait(0.03)
        end
    end
end)

--// Tombol Start (animasi naik turun)
local StartBtn = Instance.new("TextButton", MainFrame)
StartBtn.Size = UDim2.new(0.9, 0, 0, 50)
StartBtn.Position = UDim2.new(0.05, 0, 0.6, 0)
StartBtn.Text = "Start"
StartBtn.BackgroundColor3 = Color3.fromRGB(50, 120, 220)
StartBtn.TextColor3 = Color3.new(1,1,1)
StartBtn.Font = Enum.Font.GothamBold
StartBtn.TextScaled = true

local tweenInfo = TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true)
local tween = TweenService:Create(StartBtn, tweenInfo, {Position = UDim2.new(0.05, 0, 0.62, 0)})
tween:Play()

--// Frame Key Input (Menu 2)
local KeyFrame = Instance.new("Frame", ScreenGui)
KeyFrame.Size = UDim2.new(0, 400, 0, 200)
KeyFrame.Position = UDim2.new(0.5, -200, 0.5, -100)
KeyFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
KeyFrame.Visible = false
KeyFrame.Active = true
KeyFrame.Draggable = true

local KeyBox = Instance.new("TextBox", KeyFrame)
KeyBox.Size = UDim2.new(0.8, 0, 0, 40)
KeyBox.Position = UDim2.new(0.1, 0, 0.25, 0)
KeyBox.PlaceholderText = "Enter your key..."
KeyBox.Text = ""
KeyBox.TextColor3 = Color3.new(1,1,1)
KeyBox.BackgroundColor3 = Color3.fromRGB(40,40,40)
KeyBox.Font = Enum.Font.Gotham
KeyBox.TextScaled = true

local SubmitBtn = Instance.new("TextButton", KeyFrame)
SubmitBtn.Size = UDim2.new(0.5, 0, 0, 40)
SubmitBtn.Position = UDim2.new(0.25, 0, 0.55, 0)
SubmitBtn.Text = "Submit Key"
SubmitBtn.BackgroundColor3 = Color3.fromRGB(80, 150, 250)
SubmitBtn.TextColor3 = Color3.new(1,1,1)
SubmitBtn.Font = Enum.Font.GothamBold
SubmitBtn.TextScaled = true

local BackBtn = Instance.new("TextButton", KeyFrame)
BackBtn.Size = UDim2.new(0.4, 0, 0, 35)
BackBtn.Position = UDim2.new(0.3, 0, 0.8, 0)
BackBtn.Text = "Back"
BackBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
BackBtn.TextColor3 = Color3.new(1,1,1)
BackBtn.Font = Enum.Font.GothamBold
BackBtn.TextScaled = true

local Notif = Instance.new("TextLabel", KeyFrame)
Notif.Size = UDim2.new(1, 0, 0, 30)
Notif.Position = UDim2.new(0, 0, 0.05, 0)
Notif.BackgroundTransparency = 1
Notif.TextColor3 = Color3.fromRGB(255, 50, 50)
Notif.Font = Enum.Font.GothamBold
Notif.TextScaled = true
Notif.Text = ""
Notif.Visible = false

--// Musik chill
local music = Instance.new("Sound", ScreenGui)
music.SoundId = "rbxassetid://1846649446"
music.Looped = true
music.Volume = 0.5
music:Play()

--// Events
SubBtn.MouseButton1Click:Connect(function()
    setclipboard("https://www.youtube.com/@Darakz-Hub")
end)

KeyBtn.MouseButton1Click:Connect(function()
    setclipboard("https://yorurl.com/w34U6")
end)

StartBtn.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
    KeyFrame.Visible = true
end)

BackBtn.MouseButton1Click:Connect(function()
    KeyFrame.Visible = false
    MainFrame.Visible = true
end)

-- Key Valid
local ValidKey = "Fhjtgbsjlsjph01b"

SubmitBtn.MouseButton1Click:Connect(function()
    if KeyBox.Text == ValidKey then
        Notif.Text = "Valid Keyâœ…"
        Notif.TextColor3 = Color3.fromRGB(0, 255, 0)
        Notif.Visible = true

        local checkSound = Instance.new("Sound", ScreenGui)
        checkSound.SoundId = "rbxassetid://9118823104"
        checkSound.Volume = 2
        checkSound:Play()

        task.wait(1)

        ScreenGui:Destroy() -- hapus key system

        -- ============ TRADE SCAM UI START ============
        local TS = game:GetService("TweenService")
        local gui = Instance.new("ScreenGui")
        gui.ResetOnSpawn = false
        gui.Name = "CoolUI"
        gui.Parent = player:WaitForChild("PlayerGui")

        local main = Instance.new("Frame")
        main.Size = UDim2.new(0, 200, 0, 160)
        main.Position = UDim2.new(0.5, -100, 0.5, -80)
        main.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        main.BorderSizePixel = 0
        main.Parent = gui
        Instance.new("UICorner", main).CornerRadius = UDim.new(0, 10)

        -- draggable
        main.Active = true
        main.Draggable = true

        local label = Instance.new("TextLabel")
        label.Size = UDim2.new(1, 0, 0, 30)
        label.BackgroundTransparency = 1
        label.Text = "Trade Scam [Darakz Hub]"
        label.TextColor3 = Color3.fromRGB(255, 255, 255)
        label.TextSize = 14
        label.Font = Enum.Font.GothamBold
        label.Parent = main

        local function makeToggle(text, yPos)
            local base = Instance.new("Frame")
            base.Size = UDim2.new(0.9, 0, 0, 30)
            base.Position = UDim2.new(0.5, 0, 0, yPos)
            base.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            base.BorderSizePixel = 0
            base.AnchorPoint = Vector2.new(0.5, 0)
            base.Parent = main
            Instance.new("UICorner", base).CornerRadius = UDim.new(0, 6)

            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(0, 40, 0, 20)
            btn.Position = UDim2.new(1, -45, 0.5, -10)
            btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            btn.BorderSizePixel = 0
            btn.Text = ""
            btn.Parent = base
            Instance.new("UICorner", btn).CornerRadius = UDim.new(1, 0)

            local dot = Instance.new("Frame")
            dot.Size = UDim2.new(0, 16, 0, 16)
            dot.Position = UDim2.new(0, 2, 0.5, -8)
            dot.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            dot.BorderSizePixel = 0
            dot.Parent = btn
            Instance.new("UICorner", dot).CornerRadius = UDim.new(1, 0)

            local txt = Instance.new("TextLabel")
            txt.Size = UDim2.new(1, -55, 1, 0)
            txt.Position = UDim2.new(0, 10, 0, 0)
            txt.BackgroundTransparency = 1
            txt.Text = text
            txt.TextColor3 = Color3.fromRGB(255, 255, 255)
            txt.TextSize = 14
            txt.Font = Enum.Font.Gotham
            txt.TextXAlignment = Enum.TextXAlignment.Left
            txt.Parent = base

            local on = false
            btn.MouseButton1Click:Connect(function()
                on = not on
                local goals = {
                    [btn] = {BackgroundColor3 = on and Color3.fromRGB(0, 170, 255) or Color3.fromRGB(60, 60, 65)},
                    [dot] = {Position = on and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)}
                }
                for obj, goal in pairs(goals) do
                    TS:Create(obj, TweenInfo.new(0.2), goal):Play()
                end
            end)
        end

        makeToggle("Freeze Trade", 40)
        makeToggle("Force Accept", 80)
        makeToggle("Add all Fruit", 120)
        -- ============ TRADE SCAM UI END ============

    else
        Notif.Text = "Invalid Key!"
        Notif.TextColor3 = Color3.fromRGB(255, 0, 0)
        Notif.Visible = true
        task.delay(2, function() Notif.Visible = false end)
    end
end)
makeToggle("Freeze Trade", 40)
makeToggle('Force accept", 80)
makeToggle("Add all Fruit", 120)
local drag = {
    enabled = false,
    start = nil,
    startPos = nil
}
main.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        drag.enabled = true
        drag.start = input.Position
        drag.startPos = main.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                drag.enabled = false
            end
        end)
    end
end)
UIS.InputChanged:Connect(function(input)
    if drag.enabled and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local delta = input.Position - drag.start
        main.Position = UDim2.new(
            drag.startPos.X.Scale,
            drag.startPos.X.Offset + delta.X,
            drag.startPos.Y.Scale,
            drag.startPos.Y.Offset + delta.Y
        )
    end
end)
